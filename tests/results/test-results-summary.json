{
  "total_time": 127.3821268081665,
  "total_categories": 1,
  "passed_categories": 0,
  "failed_categories": 1,
  "success_rate": 0.0,
  "results": [
    {
      "category": "Server Management",
      "success": false,
      "returncode": 1,
      "duration": 127.38200974464417,
      "stdout": "\u001b[1m============================= test session starts ==============================\u001b[0m\nplatform darwin -- Python 3.12.7, pytest-8.4.1, pluggy-1.6.0 -- /opt/homebrew/anaconda3/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.7', 'Platform': 'macOS-15.5-arm64-arm-64bit', 'Packages': {'pytest': '8.4.1', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'flask': '1.3.0', 'html': '4.1.1', 'xdist': '3.8.0', 'metadata': '3.1.1', 'cov': '6.2.1', 'asyncio': '1.0.0'}}\nrootdir: /Users/jestes/mcp-manager\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, flask-1.3.0, html-4.1.1, xdist-3.8.0, metadata-3.1.1, cov-6.2.1, asyncio-1.0.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\n\u001b[1mcollecting ... \u001b[0mcollected 26 items\n\ntests/test_server_management.py::TestServerAddition::test_add_server_by_type[npm-npx @test/server-args0] \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerAddition::test_add_server_by_type[docker-docker run test/server-args1] \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerAddition::test_add_server_by_type[custom-python test_server.py-args2] \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerAddition::test_add_server_minimal_args \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerAddition::test_add_server_duplicate_name \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerAddition::test_add_server_invalid_type \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerAddition::test_add_server_missing_command \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerRemoval::test_remove_existing_server \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerRemoval::test_remove_nonexistent_server \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerRemoval::test_remove_with_confirmation \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerListing::test_list_empty_servers \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerListing::test_list_with_servers \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerListing::test_list_with_scope[user] \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerListing::test_list_with_scope[project] \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerListing::test_list_with_scope[global] \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerListing::test_list_with_filters \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerEnableDisable::test_enable_server \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerEnableDisable::test_disable_server \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestServerEnableDisable::test_enable_disable_nonexistent \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestPackageInstallation::test_install_package_basic \u001b[32mPASSED\u001b[0m\ntests/test_server_management.py::TestPackageInstallation::test_install_nonexistent_package \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerValidation::test_add_server_empty_name \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerValidation::test_add_server_empty_command \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerValidation::test_add_server_invalid_characters \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerLifecycle::test_complete_server_lifecycle \u001b[31mFAILED\u001b[0m\ntests/test_server_management.py::TestServerLifecycle::test_bulk_server_operations \u001b[31mFAILED\u001b[0m\n\n=================================== FAILURES ===================================\n\u001b[31m\u001b[1m____ TestServerAddition.test_add_server_by_type[npm-npx @test/server-args0] ____\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:34: in test_add_server_by_type\n    \u001b[0mTestAssertions.assert_command_success(result, \u001b[33mf\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m\u001b[33mAdd \u001b[39;49;00m\u001b[33m{\u001b[39;49;00mserver_type\u001b[33m}\u001b[39;49;00m\u001b[33m server\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:217: in assert_command_success\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Add npm server\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main add test-npm-server --type npm --command 'npx @test/server' --args '--directory' '/tmp'\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Success\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Failure (code 2)\u001b[0m\n\u001b[1m\u001b[31mE   STDOUT: \u001b[0m\n\u001b[1m\u001b[31mE   STDERR: <frozen runpy>:128: RuntimeWarning: 'mcp_manager.cli.main' found in sys.modules after import of package 'mcp_manager.cli', but prior to execution of 'mcp_manager.cli.main'; this may result in unpredic\u001b[0m\n\u001b[31m\u001b[1m_ TestServerAddition.test_add_server_by_type[docker-docker run test/server-args1] _\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:35: in test_add_server_by_type\n    \u001b[0m\u001b[94massert\u001b[39;49;00m OutputValidator.validate_success_message(result[\u001b[33m'\u001b[39;49;00m\u001b[33mstdout\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m], \u001b[33m\"\u001b[39;49;00m\u001b[33madd\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: assert False\u001b[0m\n\u001b[1m\u001b[31mE    +  where False = <function OutputValidator.validate_success_message at 0x104519260>('\u274c Failed to add server: Failed to add server test-docker-server: Failed to add server: Failed to add server: MCP\\nserver test-docker-server already exists in user config\\n', 'add')\u001b[0m\n\u001b[1m\u001b[31mE    +    where <function OutputValidator.validate_success_message at 0x104519260> = OutputValidator.validate_success_message\u001b[0m\n\u001b[31m\u001b[1m_ TestServerAddition.test_add_server_by_type[custom-python test_server.py-args2] _\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:34: in test_add_server_by_type\n    \u001b[0mTestAssertions.assert_command_success(result, \u001b[33mf\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m\u001b[33mAdd \u001b[39;49;00m\u001b[33m{\u001b[39;49;00mserver_type\u001b[33m}\u001b[39;49;00m\u001b[33m server\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:217: in assert_command_success\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Add custom server\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main add test-custom-server --type custom --command 'python test_server.py' --args '--config' 'test.json'\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Success\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Failure (code 2)\u001b[0m\n\u001b[1m\u001b[31mE   STDOUT: \u001b[0m\n\u001b[1m\u001b[31mE   STDERR: <frozen runpy>:128: RuntimeWarning: 'mcp_manager.cli.main' found in sys.modules after import of package 'mcp_manager.cli', but prior to execution of 'mcp_manager.cli.main'; this may result in unpredic\u001b[0m\n\u001b[31m\u001b[1m______________ TestServerAddition.test_add_server_duplicate_name _______________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:79: in test_add_server_duplicate_name\n    \u001b[0mTestAssertions.assert_command_failure(result2, \u001b[33m\"\u001b[39;49;00m\u001b[33mDuplicate server add\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:248: in assert_command_failure\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Duplicate server add\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main add test-duplicate-server --type custom --command 'echo duplicate'\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Failure\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Success (returncode 0)\u001b[0m\n\u001b[1m\u001b[31mE   Output: \u274c Failed to add server: Failed to add server test-duplicate-server: Failed to add server: Failed to add server: \u001b[0m\n\u001b[1m\u001b[31mE   MCP server test-duplicate-server already exists in user config\u001b[0m\n\u001b[31m\u001b[1m______________ TestServerAddition.test_add_server_missing_command ______________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:102: in test_add_server_missing_command\n    \u001b[0mTestAssertions.assert_command_failure(result, \u001b[33m\"\u001b[39;49;00m\u001b[33mMissing command\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:248: in assert_command_failure\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Missing command\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main add test-no-command --type custom\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Failure\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Success (returncode 0)\u001b[0m\n\u001b[1m\u001b[31mE   Output: \u274c Failed to add server: Failed to add server test-no-command: 1 validation error for Server\u001b[0m\n\u001b[1m\u001b[31mE   command\u001b[0m\n\u001b[1m\u001b[31mE     Value error, Server command cannot be empty \u001b[0m\n\u001b[1m\u001b[31mE       For further information visit https://errors.pyda\u001b[0m\n\u001b[31m\u001b[1m________________ TestServerRemoval.test_remove_existing_server _________________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:120: in test_remove_existing_server\n    \u001b[0mTestAssertions.assert_command_success(remove_result, \u001b[33m\"\u001b[39;49;00m\u001b[33mRemove existing server\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:217: in assert_command_success\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Remove existing server\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main remove test-remove-server\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Success\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Failure (code -1)\u001b[0m\n\u001b[1m\u001b[31mE   STDOUT: \u001b[0m\n\u001b[1m\u001b[31mE   STDERR: Command timed out after 30s\u001b[0m\n\u001b[31m\u001b[1m_______________ TestServerRemoval.test_remove_nonexistent_server _______________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:137: in test_remove_nonexistent_server\n    \u001b[0m\u001b[94massert\u001b[39;49;00m OutputValidator.validate_error_message(result[\u001b[33m'\u001b[39;49;00m\u001b[33mstderr\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m], \u001b[33m\"\u001b[39;49;00m\u001b[33mnot found\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: assert False\u001b[0m\n\u001b[1m\u001b[31mE    +  where False = <function OutputValidator.validate_error_message at 0x104519300>('Command timed out after 30s', 'not found')\u001b[0m\n\u001b[1m\u001b[31mE    +    where <function OutputValidator.validate_error_message at 0x104519300> = OutputValidator.validate_error_message\u001b[0m\n\u001b[31m\u001b[1m________________ TestServerListing.test_list_with_scope[global] ________________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:198: in test_list_with_scope\n    \u001b[0mTestAssertions.assert_command_success(result, \u001b[33mf\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m\u001b[33mList with scope \u001b[39;49;00m\u001b[33m{\u001b[39;49;00mscope\u001b[33m}\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:217: in assert_command_success\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: List with scope global\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main list --scope global\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Success\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Failure (code 2)\u001b[0m\n\u001b[1m\u001b[31mE   STDOUT: \u001b[0m\n\u001b[1m\u001b[31mE   STDERR: <frozen runpy>:128: RuntimeWarning: 'mcp_manager.cli.main' found in sys.modules after import of package 'mcp_manager.cli', but prior to execution of 'mcp_manager.cli.main'; this may result in unpredic\u001b[0m\n\u001b[31m\u001b[1m___________ TestServerEnableDisable.test_enable_disable_nonexistent ____________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:264: in test_enable_disable_nonexistent\n    \u001b[0m\u001b[94massert\u001b[39;49;00m OutputValidator.validate_error_message(result2[\u001b[33m'\u001b[39;49;00m\u001b[33mstderr\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m], \u001b[33m\"\u001b[39;49;00m\u001b[33mnot found\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   assert False\u001b[0m\n\u001b[1m\u001b[31mE    +  where False = <function OutputValidator.validate_error_message at 0x104519300>(\"<frozen runpy>:128: RuntimeWarning: 'mcp_manager.cli.main' found in sys.modules after import of package 'mcp_manager.cli', but prior to execution of 'mcp_manager.cli.main'; this may result in unpredictable behaviour\\n[07/24/25 17:07:30] ERROR    Failed to remove server 'nonexistent-server': No user-scoped MCP server found with  \\n                             name: nonexistent-server                                                            \\n                    ERROR    Failed to remove server 'nonexistent-server': Failed to remove server: No           \\n                             user-scoped MCP server found with name: nonexistent-server                          \\n                    ERROR    Error disabling server nonexistent-server: Failed to remove server: Failed to remove\\n                             server: No user-scoped MCP server found with name: nonexistent-server               \\n\", 'not found')\u001b[0m\n\u001b[1m\u001b[31mE    +    where <function OutputValidator.validate_error_message at 0x104519300> = OutputValidator.validate_error_message\u001b[0m\n\u001b[31m\u001b[1m___________ TestPackageInstallation.test_install_nonexistent_package ___________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:292: in test_install_nonexistent_package\n    \u001b[0mTestAssertions.assert_command_failure(result, \u001b[33m\"\u001b[39;49;00m\u001b[33mInstall nonexistent package\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:248: in assert_command_failure\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Install nonexistent package\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main install-package nonexistent-package-xyz\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Failure\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Success (returncode 0)\u001b[0m\n\u001b[1m\u001b[31mE   Output: \ud83d\udd0d Searching for server with ID: nonexistent-package-xyz\u001b[0m\n\u001b[1m\u001b[31mE   \u274c Server with install ID 'nonexistent-package-xyz' not found\u001b[0m\n\u001b[1m\u001b[31mE   \ud83d\udca1 Try running 'mcp-manager discover' to see available servers\u001b[0m\n\u001b[31m\u001b[1m_______________ TestServerValidation.test_add_server_empty_name ________________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:306: in test_add_server_empty_name\n    \u001b[0mTestAssertions.assert_command_failure(result, \u001b[33m\"\u001b[39;49;00m\u001b[33mEmpty server name\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:248: in assert_command_failure\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Empty server name\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main add '' --type custom --command 'test'\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Failure\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Success (returncode 0)\u001b[0m\n\u001b[1m\u001b[31mE   Output: \u274c Failed to add server: Failed to add server : 1 validation error for Server\u001b[0m\n\u001b[1m\u001b[31mE   name\u001b[0m\n\u001b[1m\u001b[31mE     Value error, Server name cannot be empty \u001b[0m\n\u001b[1m\u001b[31mE       For further information visit https://errors.pydantic.dev/2.11/v/value\u001b[0m\n\u001b[31m\u001b[1m______________ TestServerValidation.test_add_server_empty_command ______________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:315: in test_add_server_empty_command\n    \u001b[0mTestAssertions.assert_command_failure(result, \u001b[33m\"\u001b[39;49;00m\u001b[33mEmpty server command\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:248: in assert_command_failure\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Empty server command\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main add test-empty-cmd --type custom --command ''\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Failure\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Success (returncode 0)\u001b[0m\n\u001b[1m\u001b[31mE   Output: \u274c Failed to add server: Failed to add server test-empty-cmd: 1 validation error for Server\u001b[0m\n\u001b[1m\u001b[31mE   command\u001b[0m\n\u001b[1m\u001b[31mE     Value error, Server command cannot be empty \u001b[0m\n\u001b[1m\u001b[31mE       For further information visit https://errors.pydan\u001b[0m\n\u001b[31m\u001b[1m___________ TestServerValidation.test_add_server_invalid_characters ____________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:334: in test_add_server_invalid_characters\n    \u001b[0mTestAssertions.assert_command_failure(result, \u001b[33mf\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m\u001b[33mInvalid name: \u001b[39;49;00m\u001b[33m{\u001b[39;49;00minvalid_name\u001b[33m}\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:248: in assert_command_failure\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Invalid name: test server\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main add 'test server' --type custom --command 'test'\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Failure\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Success (returncode 0)\u001b[0m\n\u001b[1m\u001b[31mE   Output: \u274c Failed to add server: Failed to add server test server\u001b[0m\n\u001b[31m\u001b[1m______________ TestServerLifecycle.test_complete_server_lifecycle ______________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:354: in test_complete_server_lifecycle\n    \u001b[0mTestAssertions.assert_contains_all(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:290: in assert_contains_all\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Lifecycle: Server in list\u001b[0m\n\u001b[1m\u001b[31mE   Missing items: ['test-lifecycle-server']\u001b[0m\n\u001b[1m\u001b[31mE   In text: \u001b[0m\n\u001b[1m\u001b[31mE                                            MCP Servers (23 total)                                         \u001b[0m\n\u001b[1m\u001b[31mE   \u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\u001b[0m\n\u001b[1m\u001b[31mE   \u2503 Name                 \u2503 Type         \u2503 Scope    \u2503 Status   \u2503 Command\u001b[0m\n\u001b[31m\u001b[1m_______________ TestServerLifecycle.test_bulk_server_operations ________________\u001b[0m\n\u001b[1m\u001b[31mtests/test_server_management.py\u001b[0m:403: in test_bulk_server_operations\n    \u001b[0mTestAssertions.assert_command_success(remove_result, \u001b[33mf\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m\u001b[33mBulk remove: \u001b[39;49;00m\u001b[33m{\u001b[39;49;00mname\u001b[33m}\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mtests/utils/validators.py\u001b[0m:217: in assert_command_success\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAssertionError\u001b[39;49;00m(error_msg)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: \u001b[0m\n\u001b[1m\u001b[31mE   Test: Bulk remove: bulk-server-1\u001b[0m\n\u001b[1m\u001b[31mE   Command: python -m mcp_manager.cli.main remove bulk-server-1\u001b[0m\n\u001b[1m\u001b[31mE   Expected: Success\u001b[0m\n\u001b[1m\u001b[31mE   Actual: Failure (code -1)\u001b[0m\n\u001b[1m\u001b[31mE   STDOUT: \u001b[0m\n\u001b[1m\u001b[31mE   STDERR: Command timed out after 30s\u001b[0m\n- generated xml file: /Users/jestes/mcp-manager/test-results-server-management.xml -\n============================= slowest 10 durations =============================\n36.02s call     tests/test_server_management.py::TestServerLifecycle::test_bulk_server_operations\n30.91s call     tests/test_server_management.py::TestServerRemoval::test_remove_existing_server\n30.01s call     tests/test_server_management.py::TestServerRemoval::test_remove_nonexistent_server\n4.18s call     tests/test_server_management.py::TestServerListing::test_list_with_servers\n3.17s call     tests/test_server_management.py::TestServerListing::test_list_with_filters\n2.41s call     tests/test_server_management.py::TestServerEnableDisable::test_enable_disable_nonexistent\n2.40s call     tests/test_server_management.py::TestServerLifecycle::test_complete_server_lifecycle\n2.38s call     tests/test_server_management.py::TestServerEnableDisable::test_enable_server\n1.82s call     tests/test_server_management.py::TestServerEnableDisable::test_disable_server\n1.80s call     tests/test_server_management.py::TestServerRemoval::test_remove_with_confirmation\n\u001b[36m\u001b[1m=========================== short test summary info ============================\u001b[0m\n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerAddition::test_add_server_by_type[npm-npx @test/server-args0]\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerAddition::test_add_server_by_type[docker-docker run test/server-args1]\u001b[0m - AssertionError: assert False\n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerAddition::test_add_server_by_type[custom-python test_server.py-args2]\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerAddition::test_add_server_duplicate_name\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerAddition::test_add_server_missing_command\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerRemoval::test_remove_existing_server\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerRemoval::test_remove_nonexistent_server\u001b[0m - AssertionError: assert False\n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerListing::test_list_with_scope[global]\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerEnableDisable::test_enable_disable_nonexistent\u001b[0m - assert False\n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestPackageInstallation::test_install_nonexistent_package\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerValidation::test_add_server_empty_name\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerValidation::test_add_server_empty_command\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerValidation::test_add_server_invalid_characters\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerLifecycle::test_complete_server_lifecycle\u001b[0m - AssertionError: \n\u001b[31mFAILED\u001b[0m tests/test_server_management.py::\u001b[1mTestServerLifecycle::test_bulk_server_operations\u001b[0m - AssertionError: \n\u001b[31m================== \u001b[31m\u001b[1m15 failed\u001b[0m, \u001b[32m11 passed\u001b[0m\u001b[31m in 127.18s (0:02:07)\u001b[0m\u001b[31m ===================\u001b[0m\n",
      "stderr": "",
      "command": "python -m pytest tests/test_server_management.py --verbose --tb=short --durations=10 --junitxml=test-results-server-management.xml --color=yes -s"
    }
  ]
}